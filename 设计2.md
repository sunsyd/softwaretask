![](C:\Users\ssy\Desktop\jisuanqi\图片3.png)

前端：计算输入界面

​	目标1：正常运算请求

​	目标2：在第一次运算结果基础上继续运算

中间层：多用户访问消息请求队列

​	目标1：构建消息请求队列

​    目标2：给每个请求js串添加ID属性用于区分请求用户，方便输入与返回对应

后端：运算并返回结果值

​	目标：解析js串并返回结果



数据在三者之间的传递预期如下：

以计算8x8x(8)^3为例

前端->中间层：

```
{
  "expression": "8*8*(8)^(3)",
  "unit": "deg"
}
```

中间层添加ID->后端:

```
{
  "expression": "8*8*(8)^(3)",
  "unit": "deg"
  "ID": "1346454"  //要求现存ID不重复,唯一标识
}
```

后端解析js串计算返回结果->中间层：

```
{
  "result": "32768",
  "unit": "deg"
  "ID":"1346454"
}
```

中间层解析js并根据ID返回结果->前端：

```
{
  "result": "32768",
  "unit": "deg"
}
```

前端解析js串显示。